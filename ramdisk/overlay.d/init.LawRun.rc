###############################LawRunKernel#####################################
##############################LawRun-Ramdisk####################################
# LawRun-Kernel Edit.      #####################   **      ******   negrroo    #
# Negrroo                  #                   #   **      *    *   **   **    #
# SPECTRUM KERNEL MANAGER  #  LawRun Features  #   **      ******   **  **     #
# Franco's fku profiles    #                   #   **      **       *****      #
# Morpho KERNEL MANAGER    #####################   ******* ** **    **  **     #
# Dont Copy :')          #ALWAYS BE READY TO RUN!# ******* **   **  **   **    #
##############################LawRun-Starting###################################

# Import profiles
import /init.spectrum.rc
import /init.performance_profiles.rc
import /init.morpho.rc

on early-init
    # Nothing

on init
    # Nothing

on post-fs
    # Nothing

on property:sys.boot_completed=1

    # Enable Spectrum support
    setprop spectrum.support 1

    # Enable Franko Kernel Manager support
    setprop fku.profiles 1

 # TO CHANGE
# Charging Script
    chmod 0664 /sys/class/power_supply/battery/constant_charge_current_max

# Thermal Script
    chmod 0644 /sys/class/thermal/thermal_message/sconfig

# CPU
    chown system system /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
    chown system system /sys/devices/system/cpu/cpu4/cpufreq/scaling_max_freq
    chown system system /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
    chown system system /sys/devices/system/cpu/cpu4/cpufreq/scaling_min_freq
    chown system system /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
    chown system system /sys/devices/system/cpu/cpu4/cpufreq/scaling_governor

    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_max_freq
    chmod 0664 /sys/devices/system/cpu/cpu4/cpufreq/scaling_max_freq
    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_min_freq
    chmod 0664 /sys/devices/system/cpu/cpu4/cpufreq/scaling_min_freq
    chmod 0664 /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
    chmod 0664 /sys/devices/system/cpu/cpu4/cpufreq/scaling_governor

# GPU
    chmod system system /sys/class/kgsl/kgsl-3d0/devfreq/max_freq
    chmod system system /sys/class/kgsl/kgsl-3d0/devfreq/min_freq
    chmod system system /sys/class/kgsl/kgsl-3d0/devfreq/governor

    chmod 0664 /sys/class/kgsl/kgsl-3d0/devfreq/max_freq
    chmod 0664 /sys/class/kgsl/kgsl-3d0/devfreq/min_freq
    chmod 0664 /sys/class/kgsl/kgsl-3d0/devfreq/governor

# Allow permissions

# Execute LawRun Default Profile
    exec u:r:magisk:s0 root root -- /sbin/init.LawRun.sh

# Execute Managers Default Profile
    exec u:r:magisk:s0 root root -- /sbin/init.Profiles.sh

################################LawRun-END######################################
